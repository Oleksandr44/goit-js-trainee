{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["\"use strict\";\n\nconst formEl = document.querySelector('.feedback-form');\n\nconst localStorageKey = 'feedback-form-state';\n\nfunction getLocalStorageData(key) {\n  try {\n    return JSON.parse(localStorage.getItem(key)) || {};\n  } catch (error) {\n    console.error('PARSE FORM STORAGE ERROR', error);\n    return {};\n  }\n}\n\nfunction setLocalStorageData(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nconst initialFormData = getLocalStorageData(localStorageKey);\nArray.from(formEl.elements).forEach(element => {\n  element.value = initialFormData[element.name] || '';\n});\n\nconst userFeedback = { email: '', message: '' };\n\nformEl.addEventListener('input', () => {\n  const data = new FormData(formEl);\n  data.forEach((value, key) => {\n    userFeedback[key] = value.trim();\n  });\n  setLocalStorageData(localStorageKey, userFeedback);\n});\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const login = formEl.elements.email.value.trim();\n  const message = formEl.elements.message.value.trim();\n\n  if (!login || !message) {\n    alert('All form fields must be filled in');\n  } else {\n    console.log(userFeedback);\n    localStorage.removeItem(localStorageKey);\n    formEl.reset();\n  }\n});\n\n"],"names":["formEl","localStorageKey","getLocalStorageData","key","error","setLocalStorageData","data","initialFormData","element","userFeedback","value","login","message"],"mappings":"wFAEA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAEhDC,EAAkB,sBAExB,SAASC,EAAoBC,EAAK,CAChC,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,GAAK,EACjD,OAAQC,EAAP,CACA,eAAQ,MAAM,2BAA4BA,CAAK,EACxC,EACR,CACH,CAEA,SAASC,EAAoBF,EAAKG,EAAM,CACtC,aAAa,QAAQH,EAAK,KAAK,UAAUG,CAAI,CAAC,CAChD,CAEA,MAAMC,EAAkBL,EAAoBD,CAAe,EAC3D,MAAM,KAAKD,EAAO,QAAQ,EAAE,QAAQQ,GAAW,CAC7CA,EAAQ,MAAQD,EAAgBC,EAAQ,OAAS,EACnD,CAAC,EAED,MAAMC,EAAe,CAAE,MAAO,GAAI,QAAS,EAAE,EAE7CT,EAAO,iBAAiB,QAAS,IAAM,CACxB,IAAI,SAASA,CAAM,EAC3B,QAAQ,CAACU,EAAOP,IAAQ,CAC3BM,EAAaN,GAAOO,EAAM,KAAI,CAClC,CAAG,EACDL,EAAoBJ,EAAiBQ,CAAY,CACnD,CAAC,EAEDT,EAAO,iBAAiB,SAAU,GAAK,CACrC,EAAE,eAAc,EAChB,MAAMW,EAAQX,EAAO,SAAS,MAAM,MAAM,OACpCY,EAAUZ,EAAO,SAAS,QAAQ,MAAM,OAE1C,CAACW,GAAS,CAACC,EACb,MAAM,mCAAmC,GAEzC,QAAQ,IAAIH,CAAY,EACxB,aAAa,WAAWR,CAAe,EACvCD,EAAO,MAAK,EAEhB,CAAC"}